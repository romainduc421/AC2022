
La stratégie optimale décrite ci-dessus vise à trouver le chemin le moins coûteux pour atteindre la destination finale t en faisant au plus l arrêts de remplissage d'essence. Pour chaque arrêt u, la stratégie optimale détermine la quantité d'essence à mettre dans le réservoir en fonction de la position précédente w et du coût de l'essence à l'arrêt u.

La formule d'initialisation définit la valeur de C[u, 1, g] pour le premier arrêt de remplissage u. Si g est inférieur ou égal à la distance entre u et t et inférieur ou égal à la capacité maximale du réservoir U, alors C[u, 1, g] est égal à la distance entre u et t moins g multiplié par le coût de l'essence à l'arrêt u. Sinon, C[u, 1, g] est égal à l'infini, ce qui signifie qu'il n'est pas possible de remplir suffisamment d'essence pour atteindre la destination finale en faisant un seul arrêt de remplissage.

La formule de récurrence définit la valeur de C[u, q, g] pour un arrêt de remplissage u en fonction des arrêts de remplissage précédents v et de la quantité d'essence g dans le réservoir lors de l'arrivée à u. Si le coût de l'essence à l'arrêt v est inférieur ou égal au coût de l'essence à l'arrêt u, alors C[u, q, g] est égal au minimum de C[v, q-1, 0] plus la distance entre u et v moins g multipliée par le coût de l'essence à l'arrêt u, où v est un arrêt de remplissage tel que la distance entre u et v est inférieure ou égale à U. Si le coût de l'essence à l'arrêt v est supérieur au coût de l'essence à l'arrêt u, alors C[u, q, g] est égal au minimum de C[v, q-1, U-d(u,v)] plus U moins g multiplié par le coût de l'essence à l'arrêt u, où v est un arrêt de remplissage tel que la distance entre u et v est inférieure ou égale à U.

La formule de solution optimale indique que la solution optimale est le minimum de C[s, l, 0] pour l allant de 1 à k, où s est le point de départ et k est le nombre maximum d'arrêts de remplissage autorisés. Cela signifie que la solution optimale est le coût minimum pour atteindre la destination finale t à partir de du départ s en faisant au plus l arrêts de remplissage, avec un réservoir vide.









